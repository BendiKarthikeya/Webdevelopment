<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style type="text/css">
        body{
            height: 100vh;
        }
    </style>
</head>
<body class="d-flex justify-content-center align-items-center" onload="loadData()">
    <div class="card text-center">
        <div class="card-header">
            <div id="lblTitle">
                
            </div>
        </div>
        <div class="card-body">
            <div id="lblPrice" class="justify-content-end"></div>
            <img src="" alt="Loading" id="lblImage" height="200px" width="300px">
        </div>
        <div class="card-footer">
            <span>Previous</span>
            <button class="bi bi-chevron-left btn btn-primary" id="previousBtn"></button>
            <button class="bi bi-chevron-right btn btn-primary" id="nextBtn"></button>
            <span>Next</span>
            
        </div>
    </div>
    <script>
        let productId=1;
        function loadData(){
            loadProduct(productId);

            document.getElementById("previousBtn").addEventListener("click",function(){
                productId--;
                loadProduct(productId);

            })
            document.getElementById("nextBtn").addEventListener("click",function(){
                productId++;
                loadProduct(productId);

            })
        }
        async function loadProduct(productId){
            try {
                
                document.getElementById("lblTitle").textContent= "loading......";

                let URL=`https://fakestoreapi.com/products/${productId}`
                let response=await fetch(URL);
                let product=await response.json();
                if(!response.ok){
                    throw new Error("Product not found");     
                }
                document.getElementById("lblTitle").textContent=product.title;
                document.getElementById("lblImage").src=product.image;
                document.getElementById("lblPrice").innerHTML=`<span class="bi bi-tag-fill bg-danger p-1"></span><span class="bi bi-currency-dollar bg-danger p-1">${product.price}</span>`;

                document.getElementById("nextBtn").disabled=(productId==20)
                document.getElementById("previousBtn").disabled=(productId==1)

            } catch (error) {
                document.getElementById("lblTitle").textContent= error.message;
                document.getElementById("lblImage").src="";
                document.getElementById("lblPrice").innerHTML="";
                console.error("Error fetching product:", error);
            }
            
        }   
    </script>
</body>
</html>
